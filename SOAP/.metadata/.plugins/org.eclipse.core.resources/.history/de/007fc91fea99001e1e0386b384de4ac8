package fr.insa.soap;

import javax.jws.WebMethod;
import javax.jws.WebParam;
import javax.jws.WebService;
import java.util.ArrayList;
import java.util.List;

@WebService
public class AddUser {

    private List<User> usersRequestingHelp;

    public AddUser() {
        usersRequestingHelp = new ArrayList<>();
    }

    @WebMethod
    public String addUserRequestHelp(
        @WebParam(name = "username") String username,
        @WebParam(name = "email") String email,
        @WebParam(name = "requestDetails") String requestDetails
    ) {
        // Créer un nouvel utilisateur demandant de l'aide
        User newUser = new User(username, email, requestDetails);

        // Ajouter l'utilisateur à la liste
        usersRequestingHelp.add(newUser);

        // Retourner un message de confirmation
        return "Utilisateur " + username + " ajouté avec succès pour demander de l'aide.";
    }

    // Classe interne User pour représenter les utilisateurs
    private class User {
        private String username;
        private String email;
        private String requestDetails;

        public User(String username, String email, String requestDetails) {
            this.username = username;
            this.email = email;
            this.requestDetails = requestDetails;
        }

       
    }
}
